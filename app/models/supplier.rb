class Supplier < ActiveRecord::Base
  attr_accessible :contact_name, :email, :name, :payment_terms
  has_many :events
  
  def self.search(search)
  	if search
			words = search.to_s.strip.split
		  words.inject(scoped) do |combined_scope, word|
		    combined_scope.where('LOWER(name) LIKE ?',"%#{word.downcase}%")
		  end
  	else
  		return find(:all)
  	end
  end
end
